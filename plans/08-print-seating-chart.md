# Plan: Print Seating Chart

## Overview
Add a "Print" button that generates a clean, printable seating chart showing table assignments. Uses browser's native print functionality with custom print stylesheet.

## Priority
**Polish** - Essential for day-of-event use. The final output users need.

## Implementation Steps

### Step 1: Create PrintView Component
New component `src/components/PrintView.tsx` with print-optimized layout:

```tsx
function PrintView() {
  const { tables, guests, eventName, eventDate } = useStore();

  const getGuestsAtTable = (tableId: string) =>
    guests.filter(g => g.tableId === tableId && g.rsvpStatus === 'confirmed');

  return (
    <div className="print-view">
      <header className="print-header">
        <h1>{eventName}</h1>
        <p className="print-date">{formatDate(eventDate)}</p>
      </header>

      <section className="print-floor-plan">
        <h2>Floor Plan</h2>
        <div className="floor-plan-diagram">
          {tables.map(table => (
            <div
              key={table.id}
              className={`table-marker ${table.shape}`}
              style={{ left: table.x, top: table.y }}
            >
              {table.name}
            </div>
          ))}
        </div>
      </section>

      <section className="print-table-list">
        <h2>Seating Assignments</h2>
        <div className="table-grid">
          {tables.map(table => (
            <div key={table.id} className="table-card">
              <h3>{table.name}</h3>
              <ul>
                {getGuestsAtTable(table.id).map(guest => (
                  <li key={guest.id}>
                    {guest.name}
                    {guest.dietaryRestrictions?.length > 0 && (
                      <span className="dietary-badge">
                        {guest.dietaryRestrictions[0]}
                      </span>
                    )}
                  </li>
                ))}
              </ul>
              <p className="seat-count">
                {getGuestsAtTable(table.id).length} / {table.capacity}
              </p>
            </div>
          ))}
        </div>
      </section>

      <section className="print-unassigned">
        <h2>Unassigned Guests</h2>
        <ul>
          {guests.filter(g => !g.tableId && g.rsvpStatus === 'confirmed').map(g => (
            <li key={g.id}>{g.name}</li>
          ))}
        </ul>
      </section>

      <footer className="print-footer">
        <p>Generated by SeatOptima</p>
        <p>{new Date().toLocaleDateString()}</p>
      </footer>
    </div>
  );
}
```

### Step 2: Create Print Stylesheet
New file `src/components/PrintView.css`:

```css
/* Screen styles - for preview */
.print-view {
  max-width: 800px;
  margin: 0 auto;
  padding: 2rem;
  background: white;
}

.print-header {
  text-align: center;
  border-bottom: 2px solid #333;
  padding-bottom: 1rem;
  margin-bottom: 2rem;
}

.print-header h1 {
  font-size: 2rem;
  margin: 0;
}

.floor-plan-diagram {
  position: relative;
  height: 400px;
  border: 1px solid #ccc;
  margin-bottom: 2rem;
}

.table-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 1rem;
}

.table-card {
  border: 1px solid #ccc;
  padding: 1rem;
  break-inside: avoid;
}

.table-card h3 {
  margin: 0 0 0.5rem;
  border-bottom: 1px solid #eee;
  padding-bottom: 0.5rem;
}

.table-card ul {
  margin: 0;
  padding-left: 1.25rem;
}

.dietary-badge {
  font-size: 0.75rem;
  background: #eee;
  padding: 0.125rem 0.375rem;
  border-radius: 4px;
  margin-left: 0.5rem;
}

/* Print-specific styles */
@media print {
  @page {
    size: letter portrait;
    margin: 0.5in;
  }

  body * {
    visibility: hidden;
  }

  .print-view,
  .print-view * {
    visibility: visible;
  }

  .print-view {
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    padding: 0;
  }

  .table-grid {
    grid-template-columns: repeat(3, 1fr);
  }

  .table-card {
    font-size: 10pt;
    padding: 0.5rem;
  }

  .print-footer {
    position: fixed;
    bottom: 0;
    width: 100%;
    text-align: center;
    font-size: 8pt;
    color: #666;
  }

  /* Force page breaks */
  .page-break {
    page-break-before: always;
  }
}
```

### Step 3: Add Print Modal/View Toggle
Modify App to show print preview:

```tsx
function App() {
  const [showPrintPreview, setShowPrintPreview] = useState(false);

  if (showPrintPreview) {
    return (
      <div className="print-preview-container">
        <div className="print-preview-toolbar">
          <button onClick={() => window.print()}>Print</button>
          <button onClick={() => setShowPrintPreview(false)}>Close</button>
        </div>
        <PrintView />
      </div>
    );
  }

  return <MainApp onPrint={() => setShowPrintPreview(true)} />;
}
```

### Step 4: Add Print Button to Header
Add print action in `Header.tsx`:

```tsx
<button
  className="header-btn print-btn"
  onClick={onPrint}
  title="Print seating chart"
>
  <PrintIcon />
  Print
</button>
```

### Step 5: Print Options Dialog (Optional Enhancement)
Allow users to customize what's included:

```tsx
function PrintOptionsDialog({ onPrint, onClose }) {
  const [options, setOptions] = useState({
    showFloorPlan: true,
    showTableList: true,
    showDietary: true,
    showUnassigned: true,
    compactMode: false,
  });

  return (
    <div className="modal">
      <h2>Print Options</h2>
      <label>
        <input type="checkbox" checked={options.showFloorPlan} />
        Include floor plan diagram
      </label>
      <label>
        <input type="checkbox" checked={options.showTableList} />
        Include table assignments list
      </label>
      <label>
        <input type="checkbox" checked={options.showDietary} />
        Show dietary restrictions
      </label>
      <label>
        <input type="checkbox" checked={options.compactMode} />
        Compact mode (more tables per page)
      </label>
      <div className="modal-actions">
        <button onClick={() => onPrint(options)}>Print</button>
        <button onClick={onClose}>Cancel</button>
      </div>
    </div>
  );
}
```

### Step 6: Multiple Print Layouts
Support different print formats:

```tsx
type PrintLayout = 'full' | 'table-cards' | 'alphabetical' | 'table-tents';

function PrintView({ layout = 'full' }) {
  switch (layout) {
    case 'full':
      return <FullPrintLayout />;
    case 'table-cards':
      return <TableCardsPrintLayout />; // One page per table
    case 'alphabetical':
      return <AlphabeticalListPrintLayout />; // Guest list with table assignments
    case 'table-tents':
      return <TableTentsPrintLayout />; // Foldable name cards
  }
}
```

## Files to Create/Modify
- `src/components/PrintView.tsx` (new)
- `src/components/PrintView.css` (new)
- `src/components/PrintOptionsDialog.tsx` (new, optional)
- `src/App.tsx` (add print preview state)
- `src/components/Header.tsx` (add print button)
- `src/components/Header.css` (style print button)

## Testing Checklist
- [ ] Print preview displays correctly
- [ ] Floor plan renders in print view
- [ ] All tables and guests shown
- [ ] Dietary restrictions visible
- [ ] Unassigned guests section works
- [ ] Browser print dialog opens
- [ ] Printed output looks correct
- [ ] Page breaks work properly
- [ ] Footer appears on each page
- [ ] Works in Chrome, Firefox, Safari

## Estimated Complexity
Medium - Print CSS can be tricky, multiple layout options add complexity
